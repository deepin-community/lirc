From: Vagrant Cascadian <vagrant@reproducible-builds.org>
Date: Sat, 2 Jan 2021 00:01:20 +0000
X-Dgit-Generated: 0.10.1-7.3 1f430917c5ab786478d575d9714dd4e19defd8e1
Subject: tools: Do not embed build date and kernel version in various files.

(Closes: #979019)

https://reproducible-builds.org/docs/timestamps/
https://tests.reproducible-builds.org/debian/issues/unstable/captures_kernel_version_issue.html

Partially fixed upstream:
https://sourceforge.net/p/lirc/git/merge-requests/36/

---

diff --git a/tools/irdb-get b/tools/irdb-get
index e4e0a26..7688475 100755
--- a/tools/irdb-get
+++ b/tools/irdb-get
@@ -198,7 +198,7 @@ def do_yaml_config():
         lircmd_by_driver[driver].append("%s/%s" % (tokens[0], tokens[2]))
 
     print("#")
-    print("# Created by 'irdb-get yaml-config' as of " + CACHE_ID)
+    print("# Created by 'irdb-get yaml-config' ")
     print("#")
     print("\nlircd_by_driver:")
     print_yaml_dict(lircd_by_driver)
diff --git a/tools/lirc-lsplugins.cpp b/tools/lirc-lsplugins.cpp
index ba67a3c..d38087f 100644
--- a/tools/lirc-lsplugins.cpp
+++ b/tools/lirc-lsplugins.cpp
@@ -413,10 +413,9 @@ static void print_header(void)
 static void print_yaml_header(void)
 {
 	static const char* const YAML_HEADER =
-		"#\n# Generated by lirc-lsplugins --yaml (%s) at %s#\n ";
-	const time_t now = time(NULL);
+		"#\n# Generated by lirc-lsplugins --yaml (%s)\n ";
 
-	printf(YAML_HEADER, VERSION, ctime(&now));
+	printf(YAML_HEADER, VERSION);
 	printf("\ndrivers:\n");
 }
 
